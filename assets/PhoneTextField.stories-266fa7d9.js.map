{"version":3,"file":"PhoneTextField.stories-266fa7d9.js","sources":["../../src/svg/ComponentIcPhoneDbg.tsx","../../src/svg/ComponentIcPhoneDbgBlack.tsx","../../src/components/TextField/PhoneTextField/PhoneTextField.tsx","../../src/assets/image/svg/flag_Taiwan.svg"],"sourcesContent":["import React, { CSSProperties, VFC } from 'react';\nimport SvgIcon, { SvgIconProps } from '@mui/material/SvgIcon';\n\ninterface Props {\n  width?: CSSProperties['width'];\n  height?: CSSProperties['height'];\n}\n\nconst ComponentIcPhoneDbg: VFC<Props & Omit<SvgIconProps, keyof Props>> = (\n  props,\n) => {\n  const { viewBox = '0 0 40 40', ...otherProps } = props;\n\n  return (\n    <SvgIcon\n      viewBox={viewBox}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      sx={{\n        width: props.width ?? 40,\n        height: props.height ?? 40,\n      }}\n      {...otherProps}\n    >\n      <path\n        d=\"M26 12L26 28L14 28L14 12L26 12Z\"\n        stroke=\"white\"\n        strokeWidth=\"2\"\n        strokeLinejoin=\"round\"\n        fill=\"none\"\n      />\n      <rect x=\"17\" y=\"24\" width=\"6\" height=\"2\" rx=\"1\" fill=\"white\" />\n      {/* <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\" /> */}\n    </SvgIcon>\n  );\n};\n\nexport default ComponentIcPhoneDbg;\n","import React, { CSSProperties, VFC } from 'react';\nimport SvgIcon, { SvgIconProps } from '@mui/material/SvgIcon';\n\ninterface Props {\n  width?: CSSProperties['width'];\n  height?: CSSProperties['height'];\n}\n\nconst ComponentIcPhoneDbgBlack: VFC<Props & Omit<SvgIconProps, keyof Props>> = (\n  props,\n) => {\n  const { viewBox = '0 0 40 40', ...otherProps } = props;\n\n  return (\n    <SvgIcon\n      viewBox={viewBox}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      sx={{\n        width: props.width ?? 40,\n        height: props.height ?? 40,\n      }}\n      {...otherProps}\n    >\n      <path\n        d=\"M26 12L26 28L14 28L14 12L26 12Z\"\n        stroke=\"#3E3E3E\"\n        strokeWidth=\"2\"\n        strokeLinejoin=\"round\"\n        fill=\"none\"\n      />\n      <rect x=\"17\" y=\"24\" width=\"6\" height=\"2\" rx=\"1\" fill=\"#3E3E3E\" />\n      {/* <path d=\"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z\" /> */}\n    </SvgIcon>\n  );\n};\n\nexport default ComponentIcPhoneDbgBlack;\n","import React, { VFC, useState, useEffect, ChangeEvent, useRef } from 'react';\nimport Popper from '@mui/material/Popper';\nimport classnames from 'classnames';\nimport { PhoneTextFieldProps } from './PhoneTextField.types';\nimport { styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport InputBase from '@mui/material/InputBase';\nimport KeyboardArrowUp from '@mui/icons-material/KeyboardArrowUp';\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown';\nimport ClickAwayListener from '@mui/material/ClickAwayListener';\nimport { Mode } from '../../main.types';\nimport { CountryCodeData } from '../../../Theme.types';\nimport ComponentIcPhoneDbg from '../../../svg/ComponentIcPhoneDbg';\nimport IcErrorIfo from '../../../svg/IcErrorIfo';\nimport ComponentIcPhoneDbgBlack from '../../../svg/ComponentIcPhoneDbgBlack';\n\nconst DEFAULT_WIDTH = 320;\nconst DEFAULT_HEIGHT = 50;\n\nconst Root = styled(Box)(({}) => ({\n  display: 'flex',\n  flexDirection: 'column',\n}));\n\ninterface ModeProps {\n  mode?: Mode;\n}\n\nconst TextField = styled(Box)<ModeProps>(({ theme, mode }) => ({\n  ...theme.typography.body1,\n  display: 'flex',\n  alignItems: 'center',\n  minWidth: DEFAULT_WIDTH,\n  height: DEFAULT_HEIGHT,\n  minHeight: DEFAULT_HEIGHT,\n  color: mode === 'light' ? theme.color.secondary.$100 : '#FFF',\n  backgroundColor: mode === 'light' ? '#F5F5F5' : 'rgba(0, 0, 0, .5)',\n  borderRadius: 4,\n  padding: '13px 24px',\n  '&.container--error': {\n    border: `1px solid ${theme.color.highlight}`,\n  },\n}));\n\nconst PhoneCode = styled(Box)(({}) => ({\n  display: 'flex',\n  cursor: 'pointer',\n  width: 75,\n  height: '100%',\n  margin: '0 16px 0 0',\n  userSelect: 'none',\n  '& .code-text': {\n    flex: 1,\n  },\n}));\n\nconst Input = styled(InputBase)<ModeProps>(({ theme, mode }) => ({\n  ...theme.typography.body1,\n  flex: 1,\n  color: mode === 'light' ? theme.color.secondary.$100 : 'white',\n  backgroundColor: 'transparent',\n  outline: 'none',\n  border: 'none',\n  '&::placeholder': {\n    color: '#9C9C9C',\n  },\n}));\n\nconst Separator = styled(Box)<ModeProps>(({ mode }) => ({\n  width: 2,\n  height: '100%',\n  border: `1px solid ${mode === 'light' ? '#3E3E3E' : '#FFFFFF'} `,\n  borderRadius: 1,\n}));\n\nconst Menu = styled(Box)(({}) => ({\n  minWidth: DEFAULT_WIDTH,\n  maxHeight: 410,\n  backgroundColor: '#F5F5F5',\n  borderRadius: 4,\n  boxShadow: '0px 4px 4px rgba(0, 0, 0, 0.1)',\n  overflow: 'auto',\n  padding: 18,\n  margin: '8px auto',\n}));\n\nconst Item = styled(Box)(({ theme }) => ({\n  ...theme.typography.body2,\n  cursor: 'pointer',\n  display: 'flex',\n  alignItems: 'center',\n  color: theme.color.secondary.$100,\n  padding: 8,\n  '&:hover': {\n    backgroundColor: '#D9D9D9',\n  },\n  '& > img': {\n    width: 32,\n    height: 24,\n    objectFit: 'contain',\n    marginRight: 16,\n  },\n  '& > .code': {\n    color: theme.color.secondary.$60,\n    marginLeft: 8,\n  },\n}));\n\nconst ErrorMessage = styled(Box)(({ theme }) => ({\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  ...theme.typography.caption,\n  color: theme.color.highlight,\n}));\n\nconst PhoneTextField: VFC<PhoneTextFieldProps> = (props) => {\n  const {\n    rootProps,\n    menuProps,\n    inputProps,\n    placeholder,\n    value,\n    countryCodeList,\n    countryCode,\n    onChange,\n    errorProps,\n    error,\n    errorMessage,\n    popperProps,\n    mode,\n    ...otherProps\n  } = props;\n  const containerDOM = useRef<HTMLDivElement>(null);\n  const [selectedCode, setSelectedCode] = useState('');\n  const [inputValue, setInputValue] = useState('');\n  const [showMenu, setShowMenu] = useState(false);\n\n  useEffect(() => {\n    if (value) {\n      setInputValue(value);\n    }\n  }, [value]);\n\n  useEffect(() => {\n    if (countryCodeList.length > 0) {\n      let code = '';\n      if (countryCode !== undefined) {\n        code = countryCode;\n      } else {\n        code = countryCodeList[0].code;\n      }\n      setSelectedCode(code);\n    }\n  }, [countryCodeList, countryCode]);\n\n  const handleInputOnChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setInputValue(e.target.value);\n    callOnchange({ phone: e.target.value });\n  };\n\n  const handleOnSelectCountryCodeItem = (item: CountryCodeData) => {\n    setShowMenu(false);\n    setSelectedCode(item.code);\n    callOnchange({ code: item.code });\n  };\n\n  const callOnchange = (options?: { code?: string; phone?: string }) => {\n    const { code, phone } = options ?? {};\n    onChange({\n      code: code !== undefined ? code : selectedCode,\n      phone: phone !== undefined ? phone : inputValue,\n    });\n  };\n\n  const countryCodeItems = countryCodeList.map((d) => {\n    return (\n      <Item\n        key={`country-code-item-code-${d.code}-country-${d.name}`}\n        onClick={() => handleOnSelectCountryCodeItem(d)}\n      >\n        <img src={d.src} alt={d.name} />\n        {d.name}\n        <span className=\"code\">{`+${d.code}`}</span>\n      </Item>\n    );\n  });\n\n  return (\n    <Root {...rootProps}>\n      <TextField\n        ref={containerDOM}\n        className={classnames({\n          'container--error': error,\n        })}\n        mode={mode}\n        {...otherProps}\n      >\n        {mode === 'light' ? (\n          <ComponentIcPhoneDbgBlack style={{ marginRight: 6 }} />\n        ) : (\n          <ComponentIcPhoneDbg style={{ marginRight: 6 }} />\n        )}\n        <PhoneCode onClick={() => setShowMenu(!showMenu)}>\n          <span className=\"code-text\">{`+${selectedCode}`}</span>\n          {showMenu ? (\n            <KeyboardArrowUp style={{ margin: '0 6px' }} />\n          ) : (\n            <KeyboardArrowDownIcon style={{ margin: '0 6px' }} />\n          )}\n          <Separator mode={mode} />\n        </PhoneCode>\n        <Input\n          type=\"tel\"\n          name=\"tel\"\n          placeholder={placeholder}\n          value={inputValue}\n          onChange={handleInputOnChange}\n          mode={mode}\n          {...inputProps}\n        />\n      </TextField>\n      {showMenu && (\n        <Popper\n          open={showMenu}\n          anchorEl={containerDOM.current}\n          placement=\"bottom-start\"\n          {...popperProps}\n        >\n          <ClickAwayListener\n            onClickAway={() => {\n              setShowMenu(false);\n            }}\n          >\n            <Menu {...menuProps}>{countryCodeItems}</Menu>\n          </ClickAwayListener>\n        </Popper>\n      )}\n      {error && (\n        <ErrorMessage {...errorProps}>\n          <IcErrorIfo /> {errorMessage}\n        </ErrorMessage>\n      )}\n    </Root>\n  );\n};\n\nPhoneTextField.defaultProps = {\n  error: false,\n};\n\nexport default PhoneTextField;\n","export default \"__VITE_ASSET__379da2cf__\""],"names":["ComponentIcPhoneDbg","props","viewBox","otherProps","React","SvgIcon","ComponentIcPhoneDbgBlack","DEFAULT_WIDTH","DEFAULT_HEIGHT","Root","styled","Box","TextField","theme","mode","PhoneCode","Input","InputBase","Separator","Menu","Item","ErrorMessage","PhoneTextField","rootProps","menuProps","inputProps","placeholder","value","countryCodeList","countryCode","onChange","errorProps","error","errorMessage","popperProps","containerDOM","useRef","selectedCode","setSelectedCode","useState","inputValue","setInputValue","showMenu","setShowMenu","useEffect","code","handleInputOnChange","e","callOnchange","handleOnSelectCountryCodeItem","item","options","phone","countryCodeItems","d","classnames","KeyboardArrowUp","KeyboardArrowDownIcon","Popper","ClickAwayListener","IcErrorIfo","TaiwanSvg"],"mappings":"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"}