import{_ as me,j as S,a as he,h as Ae}from"./defaultTheme-cf784084.js";import{_ as c}from"./emotion-use-insertion-effect-with-fallbacks.browser.esm-e67a8461.js";import{r as a}from"./index-0750f9e0.js";import{s as be,c as ue}from"./styled-311a05a4.js";import{u as Ie,F as Fe}from"./useFormControl-6e5e62cc.js";import{u as Ee}from"./useThemeProps-7466e152.js";import{a as He,g as We,c as Pe}from"./generateUtilityClasses-646c1b6d.js";import{a as ye,u as ge}from"./useForkRef-4b47fa6d.js";import{r as Me}from"./index-a1f0463b.js";import{o as de}from"./ownerWindow-03d1c82d.js";import{d as Oe}from"./debounce-517eeb3c.js";import{i as ce}from"./isHostComponent-73d6e646.js";import{G as Te}from"./GlobalStyles-fe50e4b5.js";const Le=["onChange","maxRows","minRows","style","value"];function _(e){return parseInt(e,10)||0}const Ne={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function pe(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const $e=a.forwardRef(function(t,o){const{onChange:u,maxRows:r,minRows:p=1,style:z,value:C}=t,I=me(t,Le),{current:v}=a.useRef(C!=null),b=a.useRef(null),B=ye(o,b),w=a.useRef(null),y=a.useRef(0),[R,k]=a.useState({outerHeightStyle:0}),F=a.useCallback(()=>{const n=b.current,d=de(n).getComputedStyle(n);if(d.width==="0px")return{outerHeightStyle:0};const l=w.current;l.style.width=d.width,l.value=n.value||t.placeholder||"x",l.value.slice(-1)===`
`&&(l.value+=" ");const O=d.boxSizing,T=_(d.paddingBottom)+_(d.paddingTop),L=_(d.borderBottomWidth)+_(d.borderTopWidth),N=l.scrollHeight;l.value="x";const E=l.scrollHeight;let g=N;p&&(g=Math.max(Number(p)*E,g)),r&&(g=Math.min(Number(r)*E,g)),g=Math.max(g,E);const H=g+(O==="border-box"?T+L:0),$=Math.abs(g-N)<=1;return{outerHeightStyle:H,overflow:$}},[r,p,t.placeholder]),M=(n,f)=>{const{outerHeightStyle:d,overflow:l}=f;return y.current<20&&(d>0&&Math.abs((n.outerHeightStyle||0)-d)>1||n.overflow!==l)?(y.current+=1,{overflow:l,outerHeightStyle:d}):n},m=a.useCallback(()=>{const n=F();pe(n)||k(f=>M(f,n))},[F]),j=()=>{const n=F();pe(n)||Me.flushSync(()=>{k(f=>M(f,n))})};a.useEffect(()=>{const n=Oe(()=>{y.current=0,b.current&&j()});let f;const d=b.current,l=de(d);return l.addEventListener("resize",n),typeof ResizeObserver<"u"&&(f=new ResizeObserver(n),f.observe(d)),()=>{n.clear(),l.removeEventListener("resize",n),f&&f.disconnect()}}),ge(()=>{m()}),a.useEffect(()=>{y.current=0},[C]);const K=n=>{y.current=0,v||m(),u&&u(n)};return S.jsxs(a.Fragment,{children:[S.jsx("textarea",c({value:C,onChange:K,ref:B,rows:p,style:c({height:R.outerHeightStyle,overflow:R.overflow?"hidden":void 0},z)},I)),S.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:w,tabIndex:-1,style:c({},Ne.shadow,z,{paddingTop:0,paddingBottom:0})})]})}),De=$e;function Ue({props:e,states:t,muiFormControl:o}){return t.reduce((u,r)=>(u[r]=e[r],o&&typeof e[r]>"u"&&(u[r]=o[r]),u),{})}function fe(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Ve(e,t=!1){return e&&(fe(e.value)&&e.value!==""||t&&fe(e.defaultValue)&&e.defaultValue!=="")}function _e(e){return We("MuiInputBase",e)}const je=He("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ee=je,Ke=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Ge=(e,t)=>{const{ownerState:o}=e;return[t.root,o.formControl&&t.formControl,o.startAdornment&&t.adornedStart,o.endAdornment&&t.adornedEnd,o.error&&t.error,o.size==="small"&&t.sizeSmall,o.multiline&&t.multiline,o.color&&t[`color${he(o.color)}`],o.fullWidth&&t.fullWidth,o.hiddenLabel&&t.hiddenLabel]},qe=(e,t)=>{const{ownerState:o}=e;return[t.input,o.size==="small"&&t.inputSizeSmall,o.multiline&&t.inputMultiline,o.type==="search"&&t.inputTypeSearch,o.startAdornment&&t.inputAdornedStart,o.endAdornment&&t.inputAdornedEnd,o.hiddenLabel&&t.inputHiddenLabel]},Ze=e=>{const{classes:t,color:o,disabled:u,error:r,endAdornment:p,focused:z,formControl:C,fullWidth:I,hiddenLabel:v,multiline:b,readOnly:B,size:w,startAdornment:y,type:R}=e,k={root:["root",`color${he(o)}`,u&&"disabled",r&&"error",I&&"fullWidth",z&&"focused",C&&"formControl",w==="small"&&"sizeSmall",b&&"multiline",y&&"adornedStart",p&&"adornedEnd",v&&"hiddenLabel",B&&"readOnly"],input:["input",u&&"disabled",R==="search"&&"inputTypeSearch",b&&"inputMultiline",w==="small"&&"inputSizeSmall",v&&"inputHiddenLabel",y&&"inputAdornedStart",p&&"inputAdornedEnd",B&&"readOnly"]};return Pe(k,_e,t)},Je=be("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Ge})(({theme:e,ownerState:t})=>c({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ee.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&c({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Qe=be("input",{name:"MuiInputBase",slot:"Input",overridesResolver:qe})(({theme:e,ownerState:t})=>{const o=e.palette.mode==="light",u=c({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),r={opacity:"0 !important"},p=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:o?.42:.5};return c({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ee.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":p,"&:focus::-moz-placeholder":p,"&:focus:-ms-input-placeholder":p,"&:focus::-ms-input-placeholder":p},[`&.${ee.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Xe=S.jsx(Te,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Ye=a.forwardRef(function(t,o){var u;const r=Ee({props:t,name:"MuiInputBase"}),{"aria-describedby":p,autoComplete:z,autoFocus:C,className:I,components:v={},componentsProps:b={},defaultValue:B,disabled:w,disableInjectingGlobalStyles:y,endAdornment:R,fullWidth:k=!1,id:F,inputComponent:M="input",inputProps:m={},inputRef:j,maxRows:K,minRows:n,multiline:f=!1,name:d,onBlur:l,onChange:O,onClick:T,onFocus:L,onKeyDown:N,onKeyUp:E,placeholder:g,readOnly:H,renderSuffix:$,rows:D,slotProps:te={},slots:oe={},startAdornment:W,type:ne="text",value:xe}=r,we=me(r,Ke),U=m.value!=null?m.value:xe,{current:G}=a.useRef(U!=null),A=a.useRef(),Se=a.useCallback(i=>{},[]),Ce=ye(A,j,m.ref,Se),[q,Z]=a.useState(!1),s=Ie(),h=Ue({props:r,muiFormControl:s,states:["color","disabled","error","hiddenLabel","size","required","filled"]});h.focused=s?s.focused:q,a.useEffect(()=>{!s&&w&&q&&(Z(!1),l&&l())},[s,w,q,l]);const J=s&&s.onFilled,Q=s&&s.onEmpty,P=a.useCallback(i=>{Ve(i)?J&&J():Q&&Q()},[J,Q]);ge(()=>{G&&P({value:U})},[U,P,G]);const ve=i=>{if(h.disabled){i.stopPropagation();return}L&&L(i),m.onFocus&&m.onFocus(i),s&&s.onFocus?s.onFocus(i):Z(!0)},Re=i=>{l&&l(i),m.onBlur&&m.onBlur(i),s&&s.onBlur?s.onBlur(i):Z(!1)},ze=(i,...le)=>{if(!G){const se=i.target||A.current;if(se==null)throw new Error(Ae(1));P({value:se.value})}m.onChange&&m.onChange(i,...le),O&&O(i,...le)};a.useEffect(()=>{P(A.current)},[]);const Be=i=>{A.current&&i.currentTarget===i.target&&A.current.focus(),T&&!h.disabled&&T(i)};let X=M,x=m;f&&X==="input"&&(D?x=c({type:void 0,minRows:D,maxRows:D},x):x=c({type:void 0,maxRows:K,minRows:n},x),X=De);const ke=i=>{P(i.animationName==="mui-auto-fill-cancel"?A.current:{value:"x"})};a.useEffect(()=>{s&&s.setAdornedStart(!!W)},[s,W]);const V=c({},r,{color:h.color||"primary",disabled:h.disabled,endAdornment:R,error:h.error,focused:h.focused,formControl:s,fullWidth:k,hiddenLabel:h.hiddenLabel,multiline:f,size:h.size,startAdornment:W,type:ne}),re=Ze(V),ie=oe.root||v.Root||Je,Y=te.root||b.root||{},ae=oe.input||v.Input||Qe;return x=c({},x,(u=te.input)!=null?u:b.input),S.jsxs(a.Fragment,{children:[!y&&Xe,S.jsxs(ie,c({},Y,!ce(ie)&&{ownerState:c({},V,Y.ownerState)},{ref:o,onClick:Be},we,{className:ue(re.root,Y.className,I,H&&"MuiInputBase-readOnly"),children:[W,S.jsx(Fe.Provider,{value:null,children:S.jsx(ae,c({ownerState:V,"aria-invalid":h.error,"aria-describedby":p,autoComplete:z,autoFocus:C,defaultValue:B,disabled:h.disabled,id:F,onAnimationStart:ke,name:d,placeholder:g,readOnly:H,required:h.required,rows:D,value:U,onKeyDown:N,onKeyUp:E,type:ne},x,!ce(ae)&&{as:X,ownerState:c({},V,x.ownerState)},{ref:Ce,className:ue(re.input,x.className,H&&"MuiInputBase-readOnly"),onBlur:Re,onChange:ze,onFocus:ve}))}),R,$?$(c({},h,{startAdornment:W})):null]}))]})}),ft=Ye;export{ft as I};
//# sourceMappingURL=InputBase-a05e29bd.js.map
